import { newSpecPage } from '@stencil/core/testing';
import { HmcChip } from '../chip';
describe('hmc-chip', () => {
  let page;
  beforeEach(async () => {
    page = await newSpecPage({
      components: [HmcChip],
      html: '<hmc-chip></hmc-chip>',
    });
  });
  it('builds', async () => {
    expect(new HmcChip()).toBeTruthy();
  });
  describe('renders', () => {
    it('should render default component', async () => {
      expect(page.root).toMatchInlineSnapshot(`
        <hmc-chip>
          <mock:shadow-root>
            <button aria-pressed="false" class="md">
              <div class="content-wrapper">
                <slot name="icon"></slot>
                <div class="text-wrapper">
                  <slot></slot>
                </div>
              </div>
            </button>
          </mock:shadow-root>
        </hmc-chip>
      `);
    });
  });
  describe('methods', () => {
    it('should emit hmcChange when clicked', async () => {
      const eventSpy = jest.fn();
      page.rootInstance.hmcChange = {
        emit: eventSpy,
      };
      page.rootInstance.clickHandler();
      expect(eventSpy.mock.calls[0][0].selected).toEqual(true);
    });
  });
});
