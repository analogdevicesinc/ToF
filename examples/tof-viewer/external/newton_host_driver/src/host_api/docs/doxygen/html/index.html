<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>newton_control: Newton Control Console Application and Newton Control API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">newton_control
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Newton Control Console Application and Newton Control API </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Newton Control Console Application</h1>
<p>The purpose of the Newton Control Console Application is to provide a a program for conrtolling and debugging Newton operation via the SPI slave interface.</p>
<p>Also provided is an API for building C programs to control Newton</p>
<h1><a class="anchor" id="toc"></a>
Table of Contents</h1>
<ul>
<li><a class="el" href="index.html#command_line_usage_sec">Command Line Usage</a></li>
<li><a class="el" href="index.html#console_operation_sec">Console Operation</a></li>
<li><a class="el" href="index.html#command_line_examples_sec">Command Line Examples</a><ul>
<li><a class="el" href="newton__control_8h.html#newton_control_api_sec">Newton Control API</a><ul>
<li><a class="el" href="newton__control_8h.html#api_intro_sec">Newton Control API</a></li>
<li><a class="el" href="newton__control_8h.html#functions_sec">Summary of Functionality</a></li>
<li><a class="el" href="newton__control_8h.html#examples_sec">Code examples</a></li>
<li><a class="el" href="newton__control_8h.html#load_firmware_sec">Load Firmware code example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="command_line_usage_sec"></a>
Command Line Usage</h1>
<p>Usage: </p><pre class="fragment">- newton_control.exe load load_target file_name
- newton_control.exe verify verify_target file_name (FPGA only)
- newton_control.exe verify_frontdoor verify_target file_name (FPGA only)
- newton_control.exe unload unload_target file_name (FPGA only)
- newton_control.exe spi_write address data
- newton_control.exe spi_read address
- newton_control.exe reg_write address data
- newton_control.exe reg_write_backdoor address data (FPGA only)
- newton_control.exe reg_read address
- newton_control.exe reg_read_backdoor address (FPGA only)
- newton_control.exe reg_dump address word_count
- newton_control.exe reg_fill address data word_count
- newton_control.exe console
- newton_control.exe reset_hsp (FPGA only)
- newton_control.exe reset_newton
- newton_control.exe check_done_code
</pre><p>Where: </p><pre class="fragment">- load             : Loads the contents of the specified file into the target memory or executes a command file.
- verify           : Compares the contents of the specified file to the contents of the target memory using backdoor accesses. (FPGA only)
- verify_frontdoor : Compares the contents of the specified file to the contents of the target memory using frontdoor accesses.
- unload           : Dumps the content of the target memory to the specified file.

- load_target is one of the following:
  - cmd_file      : HSP command file 
  - hsp_rom       : HSP ROM (FPGA only)
  - hsp_ram       : HSP RAM (FPGA only)
  - efuse         : eFuse   (FPGA only)

- unload_target is one of the following:
  - hsp_rom       : HSP ROM (FPGA only)
  - hsp_ram       : HSP RAM (FPGA only)
  - efuse         : eFuse   (FPGA only)

- verify_target is one of the following:
  - hsp_rom       : HSP ROM (FPGA only)
  - hsp_ram       : HSP RAM (FPGA only)
  - efuse         : eFuse   (FPGA only)

- spi_write          : Write data to the address. For accessing HSP MBOX registers.
- spi_read           : Read data at address. For accessing HSP MBOX registers.
- reg_write          : Write data to the Newton register at address
- reg_write_backdoor : Write data to the Newton register at address bypassing the HSP (FPGA only)
- reg_read           : Read the Newton register at address
- reg_read_backdoor  : Read the Newton register at address bypassing the HSP (FPGA only)
- reg_dump           : Read and display word_count Newton registers starting at address.
- reg_fill           : Write word_count word_count Newton registers with data starting at address.
- console            : Enter console mode
- reset_hsp          : Reset the HSP hardware (FPGA only)
- reset_newton       : Reset the HSP hardware
- check_done_code    : Check the completion code return by some 1SP code.
</pre><p>Options: </p><pre class="fragment">--help Shows this help message.
</pre><h1><a class="anchor" id="command_line_examples_sec"></a>
Command Line Examples</h1>
<p>Here are a few examples of the command line interface:</p>
<ul>
<li>Loading new HSP ROM and eFuse data (FPGA only):<ul>
<li>newton_control.exe load hsp_rom ../../firmware/ADI_Firmware_Drop_0.4/ADI_HSP_ROM_0.4.4.vhx</li>
<li>newton_control.exe load efuse ../../efuse/hsp_fuse_file.vhx</li>
<li>Writing the HSP mailbox S2H_MBX_VALID register:<ul>
<li>spi_write 2 4</li>
</ul>
</li>
<li>Reading the HSP mailbox S2H_MBX_VALID register:<ul>
<li>spi_read 2</li>
</ul>
</li>
<li>Writing the newton microsequencer gprR0 register:<ul>
<li>reg_write 60 01234</li>
</ul>
</li>
<li>Reading the newton microsequencer gprR0 register:<ul>
<li>reg_read 60</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="console_operation_sec"></a>
Console Operation</h1>
<p>Console mode supports the same commands and arguments at the command line interface.</p>
<div class="fragment"><div class="line">FIXME: need <span class="keyword">new</span> code example</div>
</div><!-- fragment --><p>See <a class="el" href="newton__control_8h.html">newton_control.h</a> for detailed documentation. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.19
</small></address>
</body>
</html>
